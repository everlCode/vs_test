# API Documentation

## Описание

Это API предоставляет доступ к управлению постами и просмотрами постов. Все маршруты находятся в префиксе `/api`.  
API использует Laravel Sanctum для аутентификации пользователя.

---

## Эндпоинты

### Получить текущего пользователя

- **URL:** `/api/user`
- **Метод:** `GET`
- **Авторизация:** Требуется (`auth:sanctum`)
- **Описание:** Возвращает информацию о текущем аутентифицированном пользователе.

#### Пример запроса

```http
GET /api/user
Authorization: Bearer {token}
```

#### Пример ответа

```json
{
  "id": 1,
  "name": "User Name",
  "email": "user@example.com",
  ...
}
```

---

### Получить список постов

- **URL:** `/api/posts`
- **Метод:** `GET`
- **Авторизация:** Не требуется
- **Описание:** Возвращает список всех постов.

#### Пример запроса

```http
GET /api/posts
```

#### Пример ответа

```json
[
  {
    "id": 1,
    "title": "Первый пост",
    "content": "Содержимое поста",
    "created_at": "2025-06-13T14:35:36",
    ...
  },
  ...
]
```

---

### Отметить просмотр поста

- **URL:** `/api/posts/{post}/view`
- **Метод:** `POST`
- **Авторизация:** Не требуется
- **Описание:** Отмечает, что пост был просмотрен (обычно увеличивает счетчик просмотров).

#### Параметры URL

- `post` — ID поста

#### Пример запроса

```http
POST /api/posts/1/view
```

#### Пример ответа

```json
{
  "message": "Просмотр успешно зафиксирован"
}
```

---

## Аутентификация

Для доступа к защищённым маршрутам используйте Bearer Token (Laravel Sanctum).

---

## Пример .env для запуска проекта

```
APP_KEY=base64:...
DB_CONNECTION=sqlite
DB_DATABASE=/absolute/path/to/database.sqlite
```

---

## Запуск

1. Установите зависимости:
    ```bash
    composer install
    ```
2. Запустите миграции:
    ```bash
    php artisan migrate
    ```
3. Запустите сервер:
    ```bash
    php artisan serve
    ```

---

## Контакты

Для вопросов и предложений — создайте issue или pull request.
